generator client {
  provider      = "prisma-client-js"
  output        = "../generated-client/user-types"
  binaryTargets = ["native"]
}

datasource db {
  provider  = "postgresql"
  url       = env("DB_URL")
  directUrl = env("DB_URL")
}

model users {
  id         BigInt      @id @default(autoincrement())
  email      String      @db.VarChar(100)
  password   String      @db.VarChar(100)
  name       String      @db.VarChar(100)
  userStatus UserStatus? @default(ACTIVE)
  createdAt  DateTime    @default(now())
  updatedAt  DateTime    @updatedAt
  //role
  tasks      tasks[]

  @@unique([email])
  @@map("users")
}

model tasks {
  id          BigInt      @id @default(autoincrement())
  user_id     BigInt
  title       String
  description String
  taskStatus  TaskStatus? @default(NEW)
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  userId BigInt?
  users  users?  @relation(fields: [userId], references: [id])

  @@map("tasks")
}

enum UserStatus {
  ACTIVE
  INACTIVE

  @@map("userStatus")
}

enum TaskStatus {
  NEW
  PROCESSING
  DONE
  ERROR
  REJECTED
  DELETED

  @@map("taskStatus")
}
